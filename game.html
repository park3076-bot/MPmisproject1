<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Game ‚Äî Max Parker</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
  <link href="CSS/styles.css" rel="stylesheet">
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">MP</div>
        <div>
          <div style="font-weight:700">Max Parker</div>
          <div class="muted small">Marketing ‚Ä¢ Outdoors ‚Ä¢ Student Athlete</div>
        </div>
      </div>

      <nav aria-label="Primary navigation" id="mainNav">
        <a class="nav-link" href="index.html">Home</a>
        <a class="nav-link" href="hobbies.html">Hobbies</a>
        <a class="nav-link" href="discover.html">Discover</a>
        <a class="nav-link" href="resume.html">Resume</a>
        <a class="nav-link" href="career.html">Career</a>
        <a class="nav-link active" href="game.html">Game</a>
      </nav>
    </header>

    <main style="margin-top: 120px;">
      <section>
        <h1 class="hero-title">Memory Match Challenge</h1>
        <p class="muted">Test your memory skills with this engaging card matching game. Find all the pairs to win!</p>

        <div class="game-container">
          <div class="game-stats">
            <div class="stat">
              <span class="stat-number" id="moves">0</span>
              <span class="stat-label">Moves</span>
            </div>
            <div class="stat">
              <span class="stat-number" id="matches">0</span>
              <span class="stat-label">Matches</span>
            </div>
            <div class="stat">
              <span class="stat-number" id="time">0</span>
              <span class="stat-label">Time (s)</span>
            </div>
          </div>

          <div class="memory-game" id="memoryGame">
            <!-- Cards will be generated by JavaScript -->
          </div>

          <div class="game-controls">
            <button class="btn" id="newGame">New Game</button>
            <button class="nav-link" id="resetGame" style="padding:8px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.04)">Reset</button>
            <button class="nav-link" id="toggleMusic" style="padding:8px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.04)">üéµ Music</button>
          </div>
        </div>

        <div class="h-card" style="margin-top: 48px;">
          <h3>How to Play</h3>
          <div class="game-instructions">
            <div class="instruction-item">
              <div class="instruction-icon">üß†</div>
              <div class="instruction-content">
                <h4>Remember the Cards</h4>
                <p class="muted">Click on cards to flip them over. Remember where you've seen matching symbols.</p>
              </div>
            </div>
            <div class="instruction-item">
              <div class="instruction-icon">üéØ</div>
              <div class="instruction-content">
                <h4>Find Pairs</h4>
                <p class="muted">Match identical cards by finding two cards with the same symbol.</p>
              </div>
            </div>
            <div class="instruction-item">
              <div class="instruction-icon">üèÜ</div>
              <div class="instruction-content">
                <h4>Beat Your Best</h4>
                <p class="muted">Try to complete the game in the fewest moves and shortest time possible.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="h-card" style="margin-top: 32px; background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(124, 58, 237, 0.05));">
          <h3>About This Game</h3>
          <p class="muted" style="line-height: 1.8; font-size: 1.1rem;">
            This lightweight memory matching game showcases the power of clean, intuitive design. Built with simple HTML, CSS, and JavaScript, it loads instantly and provides engaging entertainment that sharpens your memory skills. The smooth animations and responsive design make it perfect for both quick breaks and extended play sessions.
          </p>
          <p class="muted" style="line-height: 1.8; font-size: 1.1rem; margin-top: 16px;">
            The game's minimalist aesthetic aligns with modern design principles‚Äîevery element serves a purpose, every interaction feels natural, and the experience remains focused on what matters most: having fun while exercising your brain.
          </p>
        </div>
      </section>
    </main>

    <footer>
      <div class="muted small">¬© <span id="year"></span> Max Parker ‚Ä¢ Game</div>
    </footer>
  </div>

  <script>
    // Memory Match Game Logic with Fixed Symbol Pairs
    const symbols = [
      'üê∂', 'üê±', 'üçï', 'üöó', '‚õ∑Ô∏è', '‚õ∞Ô∏è' // 6 unique symbols
    ]; // Each symbol will appear twice

    let firstCard = null;
    let secondCard = null;
    let lockBoard = false;
    let moves = 0;
    let matches = 0;
    let time = 0;
    let gameStarted = false;
    let timerInterval = null;
    let isMusicPlaying = false;

    // Sound Effects using Web Audio API
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();

    // Background Music Variables
    let backgroundOscillator = null;
    let backgroundGainNode = null;

    function playFlipSound() {
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      
      oscillator.frequency.setValueAtTime(400, audioContext.currentTime);
      oscillator.frequency.exponentialRampToValueAtTime(600, audioContext.currentTime + 0.1);
      
      gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
      
      oscillator.start(audioContext.currentTime);
      oscillator.stop(audioContext.currentTime + 0.1);
    }

    function playSuccessSound() {
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      
      oscillator.frequency.setValueAtTime(400, audioContext.currentTime);
      oscillator.frequency.exponentialRampToValueAtTime(800, audioContext.currentTime + 0.2);
      
      gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
      
      oscillator.start(audioContext.currentTime);
      oscillator.stop(audioContext.currentTime + 0.2);
    }

    function playFailureSound() {
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      
      oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
      oscillator.frequency.exponentialRampToValueAtTime(100, audioContext.currentTime + 0.3);
      
      gainNode.gain.setValueAtTime(0.15, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
      
      oscillator.start(audioContext.currentTime);
      oscillator.stop(audioContext.currentTime + 0.3);
    }

    function toggleBackgroundMusic() {
      const toggleBtn = document.getElementById('toggleMusic');
      
      if (!isMusicPlaying) {
        startBackgroundMusic();
        toggleBtn.textContent = 'üîá Mute';
        toggleBtn.style.background = 'rgba(124, 58, 237, 0.2)';
        isMusicPlaying = true;
      } else {
        stopBackgroundMusic();
        toggleBtn.textContent = 'üéµ Music';
        toggleBtn.style.background = '';
        isMusicPlaying = false;
      }
    }

    function startBackgroundMusic() {
      try {
        backgroundOscillator = audioContext.createOscillator();
        backgroundGainNode = audioContext.createGain();
        
        backgroundOscillator.connect(backgroundGainNode);
        backgroundGainNode.connect(audioContext.destination);
        
        // Create a gentle ambient background tone
        backgroundOscillator.frequency.setValueAtTime(220, audioContext.currentTime);
        backgroundGainNode.gain.setValueAtTime(0.05, audioContext.currentTime);
        
        backgroundOscillator.start();
        
        // Add subtle frequency modulation for a more musical feel
        setInterval(() => {
          if (backgroundOscillator) {
            const newFreq = 220 + Math.sin(Date.now() * 0.001) * 10;
            backgroundOscillator.frequency.setValueAtTime(newFreq, audioContext.currentTime);
          }
        }, 100);
      } catch (error) {
        console.log('Background music not supported in this browser');
      }
    }

    function stopBackgroundMusic() {
      if (backgroundOscillator) {
        try {
          backgroundOscillator.stop();
        } catch (error) {
          // Oscillator might already be stopped
        }
        backgroundOscillator = null;
        backgroundGainNode = null;
      }
    }

    const memoryGame = document.getElementById('memoryGame');
    const movesDisplay = document.getElementById('moves');
    const matchesDisplay = document.getElementById('matches');
    const timeDisplay = document.getElementById('time');
    const newGameBtn = document.getElementById('newGame');
    const resetGameBtn = document.getElementById('resetGame');
    const toggleMusicBtn = document.getElementById('toggleMusic');

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function createCard(symbol, index) {
      return `
        <div class="memory-card" data-symbol="${symbol}" data-index="${index}">
          <div class="card-face card-front">?</div>
          <div class="card-face card-back">${symbol}</div>
        </div>
      `;
    }

    function initializeGame() {
      // Reset game state
      firstCard = null;
      secondCard = null;
      lockBoard = false;
      moves = 0;
      matches = 0;
      time = 0;
      gameStarted = false;

      // Clear timer
      if (timerInterval) {
        clearInterval(timerInterval);
      }

      // Update displays
      movesDisplay.textContent = moves;
      matchesDisplay.textContent = matches;
      timeDisplay.textContent = time;

      // Clear any existing win message
      const existingWinMessage = document.querySelector('.win-message');
      if (existingWinMessage) {
        existingWinMessage.remove();
      }

      // Create pairs by duplicating each symbol
      const cardSymbols = [];
      symbols.forEach(symbol => {
        cardSymbols.push(symbol, symbol); // Add each symbol twice
      });

      // Generate new game board
      const shuffledSymbols = shuffleArray([...cardSymbols]);
      const gameHTML = shuffledSymbols.map((symbol, index) => createCard(symbol, index)).join('');
      memoryGame.innerHTML = gameHTML;

      // Add event listeners to cards
      const cards = document.querySelectorAll('.memory-card');
      cards.forEach(card => {
        card.addEventListener('click', flipCard);
      });
    }

    function resetGame() {
      // Keep the same card layout but reset stats
      moves = 0;
      matches = 0;
      time = 0;
      gameStarted = false;

      // Clear timer
      if (timerInterval) {
        clearInterval(timerInterval);
      }

      // Update displays
      movesDisplay.textContent = moves;
      matchesDisplay.textContent = matches;
      timeDisplay.textContent = time;

      // Remove flipped and matched classes from all cards
      const cards = document.querySelectorAll('.memory-card');
      cards.forEach(card => {
        card.classList.remove('flipped', 'matched');
      });

      // Reset game state variables
      firstCard = null;
      secondCard = null;
      lockBoard = false;
    }

    function flipCard() {
      if (lockBoard || this.classList.contains('flipped')) return;

      // Play flip sound
      playFlipSound();

      // Start timer on first move
      if (!gameStarted) {
        startTimer();
        gameStarted = true;
      }

      this.classList.add('flipped');

      if (!firstCard) {
        firstCard = this;
      } else {
        secondCard = this;
        moves++;
        movesDisplay.textContent = moves;
        checkForMatch();
      }
    }

    function checkForMatch() {
      const isMatch = firstCard.dataset.symbol === secondCard.dataset.symbol;

      if (isMatch) {
        // Play success sound
        playSuccessSound();
        
        firstCard.classList.add('matched');
        secondCard.classList.add('matched');
        matches++;
        matchesDisplay.textContent = matches;
        resetCards();

        // Check for game completion
        if (matches === symbols.length) { // 8 pairs
          setTimeout(() => {
            celebrateWin();
          }, 500);
        }
      } else {
        // Play failure sound
        playFailureSound();
        
        lockBoard = true;
        setTimeout(() => {
          firstCard.classList.remove('flipped');
          secondCard.classList.remove('flipped');
          resetCards();
        }, 1000);
      }
    }

    function resetCards() {
      [firstCard, secondCard] = [null, null];
      lockBoard = false;
    }

    function startTimer() {
      timerInterval = setInterval(() => {
        time++;
        timeDisplay.textContent = time;
      }, 1000);
    }

    function celebrateWin() {
      clearInterval(timerInterval);
      
      // Create win message
      const winMessage = document.createElement('div');
      winMessage.className = 'win-message';
      winMessage.innerHTML = `
        <h2>üéâ Congratulations! üéâ</h2>
        <p>You completed the game in:</p>
        <div class="win-stats">
          <span>${moves} moves</span>
          <span>${time} seconds</span>
        </div>
        <button class="btn" onclick="initializeGame()">Play Again</button>
      `;
      
      memoryGame.appendChild(winMessage);
      
      // Add celebration effect
      document.body.style.background = 'linear-gradient(45deg, #7c3aed, #ec4899)';
      setTimeout(() => {
        document.body.style.background = '';
      }, 2000);
    }

    // Event listeners
    newGameBtn.addEventListener('click', initializeGame);
    resetGameBtn.addEventListener('click', resetGame);
    toggleMusicBtn.addEventListener('click', toggleBackgroundMusic);

    // Initialize game on page load
    initializeGame();
  </script>

  <style>
    /* Starry void background */
    body {
      background: #000000 !important;
      position: relative;
      overflow-x: hidden;
      min-height: 100vh;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(3px 3px at 10% 20%, white, transparent),
        radial-gradient(2px 2px at 20% 30%, white, transparent),
        radial-gradient(2px 2px at 60% 70%, white, transparent),
        radial-gradient(1px 1px at 50% 50%, white, transparent),
        radial-gradient(2px 2px at 80% 10%, white, transparent),
        radial-gradient(3px 3px at 90% 60%, white, transparent),
        radial-gradient(1px 1px at 33% 80%, white, transparent),
        radial-gradient(2px 2px at 15% 90%, white, transparent),
        radial-gradient(2px 2px at 70% 40%, white, transparent),
        radial-gradient(1px 1px at 25% 15%, white, transparent),
        radial-gradient(2px 2px at 85% 85%, white, transparent),
        radial-gradient(1px 1px at 45% 25%, white, transparent),
        radial-gradient(2px 2px at 75% 55%, white, transparent),
        radial-gradient(1px 1px at 35% 65%, white, transparent),
        radial-gradient(3px 3px at 95% 35%, white, transparent),
        radial-gradient(1px 1px at 5% 75%, white, transparent),
        radial-gradient(2px 2px at 55% 95%, white, transparent),
        radial-gradient(1px 1px at 65% 5%, white, transparent),
        radial-gradient(2px 2px at 40% 60%, white, transparent),
        radial-gradient(1px 1px at 88% 45%, white, transparent);
      background-size: 200% 200%, 200% 200%, 300% 300%, 250% 250%, 200% 200%, 
                       300% 300%, 250% 250%, 200% 200%, 300% 300%, 250% 250%,
                       280% 280%, 220% 220%, 260% 260%, 240% 240%, 290% 290%,
                       270% 270%, 230% 230%, 210% 210%, 320% 320%, 310% 310%;
      background-position: 0% 0%, 40% 40%, 80% 80%, 20% 60%, 60% 20%,
                          10% 90%, 90% 10%, 50% 30%, 30% 70%, 70% 50%,
                          15% 45%, 85% 25%, 35% 85%, 65% 15%, 25% 55%,
                          75% 75%, 45% 35%, 55% 65%, 95% 5%, 5% 95%;
      animation: twinkle 4s ease-in-out infinite;
      pointer-events: none;
      z-index: 0;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }

    .wrap {
      position: relative;
      z-index: 1;
    }

    /* Override the game-container from styles.css */
    .game-container {
      max-width: 500px;
      margin: 0 auto;
      padding: 16px;
      height: auto !important;
      background: transparent !important;
      perspective: none !important;
      overflow: visible !important;
      box-shadow: none !important;
    }

    .game-stats {
      display: flex;
      gap: 32px;
      justify-content: center;
      margin-bottom: 32px;
    }

    .stat {
      text-align: center;
      padding: 16px;
      background: var(--surface);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 12px;
      min-width: 100px;
    }

    .stat-number {
      display: block;
      font-size: 2rem;
      font-weight: 700;
      color: var(--accent);
      line-height: 1;
    }

    .stat-label {
      display: block;
      font-size: 0.9rem;
      color: var(--muted);
      margin-top: 4px;
    }

    .memory-game {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      max-width: 600px;
      margin: 0 auto 32px;
      position: relative;
    }

    .memory-card {
      aspect-ratio: 1;
      cursor: pointer;
      position: relative;
      perspective: 1000px;
    }

    .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      transition: transform 0.6s;
      backface-visibility: hidden;
    }

    .card-front {
      background: linear-gradient(135deg, var(--accent), var(--accent-dark));
      color: white;
      transform: rotateY(0deg);
    }

    .card-back {
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.2);
      transform: rotateY(180deg);
    }

    .memory-card.flipped .card-front {
      transform: rotateY(180deg);
    }

    .memory-card.flipped .card-back {
      transform: rotateY(360deg);
    }

    .memory-card.matched .card-front {
      background: linear-gradient(135deg, #10b981, #059669);
      animation: pulse 0.6s ease-in-out;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    .game-controls {
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .win-message {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: var(--surface);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 16px;
      padding: 32px;
      text-align: center;
      box-shadow: 0 20px 40px rgba(0,0,0,0.8);
      z-index: 100;
    }

    .win-message h2 {
      margin: 0 0 16px 0;
      color: var(--accent);
    }

    .win-stats {
      display: flex;
      gap: 24px;
      margin: 16px 0 24px;
      justify-content: center;
    }

    .win-stats span {
      background: rgba(124, 58, 237, 0.2);
      padding: 8px 16px;
      border-radius: 8px;
      font-weight: 600;
    }

    .game-instructions {
      display: grid;
      gap: 24px;
      margin-top: 24px;
    }

    .instruction-item {
      display: flex;
      gap: 20px;
      align-items: flex-start;
    }

    .instruction-icon {
      font-size: 2.5rem;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(124, 58, 237, 0.1);
      border-radius: 50%;
      flex-shrink: 0;
    }

    .instruction-content {
      flex: 1;
    }

    .instruction-content h4 {
      margin: 0 0 8px 0;
      color: var(--accent);
    }

    .instruction-content p {
      margin: 0;
      line-height: 1.6;
    }

    @media (max-width: 640px) {
      .memory-game {
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
      }

      .card-face {
        font-size: 1.5rem;
      }

      .game-stats {
        gap: 16px;
      }

      .stat {
        min-width: 80px;
      }

      .instruction-item {
        flex-direction: column;
        text-align: center;
      }

      .instruction-icon {
        align-self: center;
      }
    }
  </style>
</body>
</html>
